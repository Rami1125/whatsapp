<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>.住 专  - 拽 拽爪注</title>
    <!--  驻 Rubik 砖驻专 拽专转 转 专 专 -->
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <!--  Font Awesome 拽 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 专转 砖转 CSS 注专 爪注 爪转 */
        :root {
            --primary: #25D366; /* 专拽 住驻 */
            --primary-dark: #128C7E; /* 专拽 住驻  */
            --accent: #FFD700; /* /爪 砖 */
            --neon-blue: #00f2ff;
            --neon-green: #00ff9d;
            --neon-orange: #ff7b00;
            --neon-purple: #bd00ff;
            --neon-red: #ff0055;
            --neon-yellow: #ffee00;
            --neon-cyan: #00eeff;
            --neon-magenta: #ff00ee;
            --neon-lime: #aaff00;
            --light-bg: #f9f9f9; /* 专拽注 专  */
            --card-light: #ffffff; /* 专拽注 专住 专 */
            --border-light: rgba(0, 0, 0, 0.1); /*  专 */
            --text-dark: #333333; /* 拽住  注 专拽注 专 */
            --shadow-light: rgba(0, 0, 0, 0.08); /* 爪 专 注 */
            --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* 注专 拽 */
        }

        /* 驻住 专专转  砖 驻驻 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* 注爪 祝 祝 - 专拽注 专 */
        body {
            font-family: 'Rubik', sans-serif;
            background-color: var(--light-bg);
            color: var(--text-dark);
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 10px;
        }

        /* 拽专 专砖  住  */
        .tablet-container {
            width: 100%;
            max-width: 1024px; /* 专 拽住  */
            min-height: calc(100vh - 20px);
            display: flex;
            flex-direction: column; /* 转 注 */
            background: var(--card-light);
            border-radius: 25px;
            box-shadow: 0 15px 30px var(--shadow-light);
            border: 1px solid var(--border-light);
            position: relative;
            overflow: hidden;
        }

        /* 转专转 注/专 */
        .header-banner {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.6));
            border-bottom: 1px solid var(--border-light);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            backdrop-filter: blur(8px);
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .header-logo {
            height: 50px;
            width: 50px;
            background-image: url('https://i.postimg.cc/NjhWzHjM/1000101077.jpg'); /*  .住 */
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            border: 2px solid var(--accent);
            box-shadow: 0 0 8px rgba(255, 215, 0, 0.3);
        }

        .header-title {
            font-size: 28px;
            font-weight: 800;
            color: var(--text-dark);
            text-shadow: 0 0 3px rgba(0,0,0,0.05);
            margin-right: auto; /* 驻  -RTL */
            padding-right: 20px;
        }

        /* 驻转专 转驻专 专砖 */
        .main-menu-btn {
            background-color: var(--primary);
            color: white;
            padding: 12px 20px;
            border-radius: 15px;
            border: none;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main-menu-btn i {
            margin-left: 10px;
            font-size: 1.1em;
        }

        .main-menu-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        /* 转驻专  驻转 ( 拽  驻注 驻转专 专) */
        .nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: flex-end;
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
        }

        .nav-overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .nav-menu {
            background: var(--card-light);
            width: 70%;
            max-width: 300px;
            height: 100%;
            padding: 30px 20px;
            box-shadow: -5px 0 20px rgba(0,0,0,0.3);
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
        }

        .nav-overlay.show .nav-menu {
            transform: translateX(0);
        }

        .nav-menu ul {
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        .nav-menu ul li {
            margin-bottom: 15px;
        }

        .nav-menu ul li a {
            display: block;
            padding: 12px 15px;
            background-color: rgba(0, 0, 0, 0.03);
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 17px;
            transition: var(--transition);
            display: flex;
            align-items: center;
        }

        .nav-menu ul li a i {
            margin-left: 10px;
            color: var(--primary);
        }

        .nav-menu ul li a:hover {
            background-color: rgba(0, 0, 0, 0.08);
            transform: translateX(-5px);
            color: var(--primary-dark);
        }

        .nav-menu .close-nav {
            align-self: flex-start;
            background: none;
            border: none;
            font-size: 30px;
            color: #666;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px;
        }

        .nav-menu .close-nav:hover {
            color: var(--text-dark);
            transform: rotate(90deg);
        }

        /* 专 转 专砖 */
        .main-content-area {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 驻转专  专砖 - 专 */
        .buttons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); /* 驻转专  转专 */
            gap: 20px;
            margin-bottom: 40px;
            width: 100%;
            max-width: 900px; /* 转 专 专 */
        }

        /* 注爪 驻转专 - 专注, , 驻拽 专拽 */
        .btn {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px; /* 专驻  转专 */
            border-radius: 18px; /* 驻转 注转 */
            background: rgba(255, 255, 255, 0.7); /* 专拽注 转 专 */
            border: 1px solid;
            color: var(--text-dark);
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            box-shadow: 0 8px 20px var(--shadow-light), inset 0 0 5px rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            min-height: 120px; /*    转专 */
            cursor: pointer;
            overflow: hidden;
            z-index: 1;
            text-align: center;
        }

        /* 驻拽 专拽 注 专祝 */
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: skewX(-20deg);
            transition: all 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15), inset 0 0 8px rgba(255, 255, 255, 0.7);
        }

        /* 拽 转 驻转专 */
        .btn-icon {
            font-size: 32px; /*  拽  转专 */
            margin-bottom: 12px;
            transition: var(--transition);
            filter: drop-shadow(0 0 3px rgba(0,0,0,0.2));
        }

        .btn:hover .btn-icon {
            transform: scale(1.2);
            filter: drop-shadow(0 0 6px var(--accent));
        }

        /* 拽住 驻转专 */
        .btn-text {
            font-size: 16px;
            font-weight: 700;
            text-align: center;
            line-height: 1.3;
            text-shadow: 0 0 3px rgba(0,0,0,0.1);
        }

        /* 爪注  驻转专 */
        .btn-primary { border-color: var(--neon-blue); box-shadow: 0 0 15px rgba(0, 242, 255, 0.3); }
        .btn-primary:hover { box-shadow: 0 0 25px rgba(0, 242, 255, 0.6); }
        .btn-secondary { border-color: var(--neon-green); box-shadow: 0 0 15px rgba(0, 255, 157, 0.3); }
        .btn-secondary:hover { box-shadow: 0 0 25px rgba(0, 255, 157, 0.6); }
        .btn-orange { border-color: var(--neon-orange); box-shadow: 0 0 15px rgba(255, 123, 0, 0.3); }
        .btn-orange:hover { box-shadow: 0 0 25px rgba(255, 123, 0, 0.6); }
        .btn-purple { border-color: var(--neon-purple); box-shadow: 0 0 15px rgba(189, 0, 255, 0.3); }
        .btn-purple:hover { box-shadow: 0 0 25px rgba(189, 0, 255, 0.6); }
        .btn-accent { border-color: var(--accent); box-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }
        .btn-accent:hover { box-shadow: 0 0 25px rgba(255, 215, 0, 0.6); }
        .btn-whatsapp { border-color: var(--primary); box-shadow: 0 0 15px rgba(37, 211, 102, 0.3); }
        .btn-whatsapp:hover { box-shadow: 0 0 25px rgba(37, 211, 102, 0.6); }
        .btn-neon-red { border-color: var(--neon-red); box-shadow: 0 0 15px rgba(255, 0, 85, 0.3); }
        .btn-neon-red:hover { box-shadow: 0 0 25px rgba(255, 0, 85, 0.6); }
        .btn-neon-yellow { border-color: var(--neon-yellow); box-shadow: 0 0 15px rgba(255, 238, 0, 0.3); }
        .btn-neon-yellow:hover { box-shadow: 0 0 25px rgba(255, 238, 0, 0.6); }
        .btn-neon-cyan { border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0, 238, 255, 0.3); }
        .btn-neon-cyan:hover { box-shadow: 0 0 25px rgba(0, 238, 255, 0.6); }
        .btn-neon-magenta { border-color: var(--neon-magenta); box-shadow: 0 0 15px rgba(255, 0, 238, 0.3); }
        .btn-neon-magenta:hover { box-shadow: 0 0 25px rgba(255, 0, 238, 0.6); }
        .btn-neon-lime { border-color: var(--neon-lime); box-shadow: 0 0 15px rgba(170, 255, 0, 0.3); }
        .btn-neon-lime:hover { box-shadow: 0 0 25px rgba(170, 255, 0, 0.6); }

        /* 住拽砖 " 注 转" - 爪转 AI */
        .recommended-section {
            background: rgba(0, 0, 0, 0.03);
            border-radius: 20px;
            padding: 20px;
            margin-top: 25px;
            border: 1px solid rgba(0,0,0,0.08);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            width: 100%;
            max-width: 900px;
        }

        .recommended-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--neon-purple);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .recommended-title i {
            margin-left: 10px;
            font-size: 20px;
        }

        .recommended-products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
        }

        .recommended-product-item {
            background: var(--card-light);
            border-radius: 15px;
            padding: 10px;
            border: 1px solid rgba(0,0,0,0.05);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            text-align: center;
            font-size: 13px;
            color: var(--text-dark);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .recommended-product-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            background: rgba(0,0,0,0.03);
        }

        /* 转转 转转转  住驻 */
        .whatsapp-chat-container {
            position: fixed; /* 砖 -fixed */
            bottom: 20px;
            right: 20px;
            width: 380px; /* 专 拽注 */
            height: 500px; /*  拽注 */
            background: rgba(255, 255, 255, 0.9); /* 专拽注 专 转专 */
            border-radius: 20px;
            padding: 20px;
            border: 1px solid var(--border-light);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(15px); /* 砖砖 拽 转专 */
            display: flex;
            flex-direction: column;
            z-index: 1001; /* 注  驻驻驻 专 */
            transform: translateY(100%); /* 住转专 转 */
            opacity: 0;
            transition: transform 0.4s ease-out, opacity 0.4s ease-out;
        }

        .whatsapp-chat-container.show {
            transform: translateY(0);
            opacity: 1;
        }

        .chat-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .chat-avatar {
            width: 50px;
            height: 50px;
            background-image: url('https://i.postimg.cc/NjhWzHjM/1000101077.jpg'); /*  .住 专 */
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            border: 2px solid var(--primary);
            margin-left: 15px;
        }

        .chat-info h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary-dark);
        }

        .chat-info p {
            font-size: 14px;
            color: #666;
        }

        .close-chat-btn {
            position: absolute;
            top: 0;
            left: 0;
            background: none;
            border: none;
            font-size: 24px;
            color: #666;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px;
            border-radius: 50%;
        }

        .close-chat-btn:hover {
            color: var(--text-dark);
            transform: scale(1.2);
            background: rgba(0,0,0,0.05);
        }

        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) rgba(0,0,0,0.1);
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 10px;
        }

        .chat-message {
            max-width: 80%;
            padding: 12px 18px;
            border-radius: 18px;
            font-size: 15px;
            line-height: 1.5;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative; /* 拽 专 */
        }

        .user-message {
            background-color: #e2fddf; /* 专拽 专 */
            align-self: flex-end; /* 砖专  -RTL */
            color: var(--text-dark);
            border-bottom-right-radius: 4px;
            margin-right: 55px; /* 拽 专 */
        }

        .agent-message {
            background-color: #f0f0f0; /* 驻专 专 */
            align-self: flex-start; /* 砖专 砖 -RTL */
            color: var(--text-dark);
            border-bottom-left-radius: 4px;
            margin-left: 55px; /* 拽 专 */
        }

        .message-avatar {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            border: 2px solid;
            bottom: 0;
        }

        .user-message .message-avatar {
            right: -45px; /* 拽 专 拽 */
            border-color: #ccc;
            background-color: #eee; /* 专拽注 专 专 拽 */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #888;
        }

        .agent-message .message-avatar {
            left: -45px; /* 拽 专 爪 */
            border-color: var(--primary);
            background-image: url('https://i.postimg.cc/NjhWzHjM/1000101077.jpg'); /*  .住 专 爪 */
        }

        .chat-input-area {
            display: flex;
            flex-direction: column; /* 驻转专 注 砖 */
            gap: 10px;
            padding-top: 15px;
            border-top: 1px solid rgba(0,0,0,0.08);
            margin-top: 15px;
        }

        .chat-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }

        .chat-suggestion-btn {
            background: rgba(0,0,0,0.05);
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            padding: 8px 12px;
            font-size: 13px;
            color: var(--text-dark);
            cursor: pointer;
            transition: var(--transition);
        }

        .chat-suggestion-btn:hover {
            background: rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .chat-input-row {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex-grow: 1;
            padding: 12px 20px;
            border-radius: 25px;
            border: 1px solid rgba(0,0,0,0.1);
            background: rgba(0,0,0,0.03);
            font-size: 16px;
            color: var(--text-dark);
            outline: none;
            transition: var(--transition);
        }

        .chat-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 8px rgba(37, 211, 102, 0.2);
        }

        .chat-send-btn {
            background: var(--primary);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
        }

        .chat-send-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        /* 住拽砖 砖转 驻爪转 */
        .faq-section {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 25px;
            margin-top: 40px;
            border: 1px solid var(--border-light);
            box-shadow: 0 8px 25px var(--shadow-light);
            backdrop-filter: blur(10px);
            width: 100%;
            max-width: 900px;
        }

        .faq-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .faq-title {
            font-size: 22px;
            font-weight: 800;
            color: var(--neon-cyan);
            display: flex;
            align-items: center;
        }

        .faq-title i {
            margin-left: 12px;
            font-size: 24px;
        }

        .faq-search-input {
            width: 100%;
            padding: 12px 20px;
            border-radius: 25px;
            border: 1px solid rgba(0,0,0,0.1);
            background: rgba(0,0,0,0.03);
            font-size: 16px;
            color: var(--text-dark);
            outline: none;
            transition: var(--transition);
            margin-bottom: 20px;
        }

        .faq-search-input:focus {
            border-color: var(--neon-cyan);
            box-shadow: 0 0 8px rgba(0, 238, 255, 0.2);
        }

        .faq-item {
            background: rgba(0, 0, 0, 0.03);
            border-radius: 15px;
            margin-bottom: 10px;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
            transition: var(--transition);
        }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            font-size: 16px;
            font-weight: 600;
            color: var(--text-dark);
            cursor: pointer;
            transition: var(--transition);
        }

        .faq-question:hover {
            background: rgba(0, 0, 0, 0.06);
        }

        .faq-question i {
            margin-left: 10px;
            transition: transform 0.3s ease;
        }

        .faq-question.active i {
            transform: rotate(90deg);
        }

        .faq-answer {
            padding: 0 20px 15px;
            font-size: 15px;
            color: #555;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.4s ease-out;
            background-color: rgba(0,0,0,0.01);
        }

        .faq-answer.show {
            max-height: 200px; /*  拽住 转砖 */
            padding: 0 20px 20px;
        }

        /*  拽驻抓 驻住 驻  (砖砖 专 -messagePopup) */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(10px);
        }

        .popup-overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .popup-container {
            background: var(--card-light);
            border-radius: 25px;
            width: 95%;
            max-width: 550px; /* 专  转专 驻住 */
            padding: 30px;
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);
            transform: translateY(50px) scale(0.9);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s ease-out;
            border: 1px solid var(--border-light);
            backdrop-filter: blur(8px);
            position: relative;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        .popup-overlay.show .popup-container {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .popup-title {
            font-size: 22px;
            font-weight: 800;
            color: var(--accent);
            display: flex;
            align-items: center;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.2);
        }

        .popup-title i {
            margin-left: 12px;
            font-size: 24px;
        }

        .close-popup {
            background: none;
            border: none;
            color: #666;
            font-size: 28px;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px;
            border-radius: 50%;
        }

        .close-popup:hover {
            color: var(--text-dark);
            transform: scale(1.2) rotate(90deg);
            background: rgba(0,0,0,0.05);
        }

        .popup-content {
            flex-grow: 1;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--accent) rgba(0,0,0,0.1);
            padding-right: 5px;
        }

        .popup-content::-webkit-scrollbar {
            width: 6px;
        }

        .popup-content::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 10px;
        }

        .popup-content::-webkit-scrollbar-thumb {
            background-color: var(--accent);
            border-radius: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .form-group input[type="text"],
        .form-group input[type="tel"],
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.03);
            color: var(--text-dark);
            font-size: 15px;
            transition: var(--transition);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
            outline: none;
        }

        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            background: rgba(0, 0, 0, 0.08);
            box-shadow: 0 0 8px rgba(0,0,0,0.1), inset 0 0 5px rgba(0,0,0,0.03);
            border-color: var(--neon-blue);
        }

        .form-summary {
            background: rgba(37, 211, 102, 0.08);
            border-radius: 15px;
            padding: 15px;
            margin-top: 20px;
            border: 1px solid rgba(37, 211, 102, 0.2);
            font-size: 15px;
            line-height: 1.6;
            color: var(--text-dark);
        }

        .form-summary h4 {
            font-size: 16px;
            color: var(--primary-dark);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .form-summary h4 i {
            margin-left: 8px;
        }

        .form-summary p {
            margin-bottom: 5px;
        }

        .popup-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .popup-btn {
            flex: 1;
            padding: 14px;
            border-radius: 15px;
            border: none;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            font-size: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .popup-btn i {
            margin-left: 8px;
            font-size: 1.1em;
        }

        .popup-btn-copy {
            background: rgba(0, 0, 0, 0.08);
            color: var(--text-dark);
            border: 1px solid rgba(0, 0, 0, 0.15);
        }

        .popup-btn-copy:hover {
            background: rgba(0, 0, 0, 0.12);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .popup-btn-send {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .popup-btn-send:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        /*  拽驻抓 住驻 */
        .branch-card {
            background: var(--card-light);
            border-radius: 20px;
            margin-bottom: 25px;
            border: 1px solid var(--border-light);
            box-shadow: 0 8px 25px var(--shadow-light);
            overflow: hidden;
            color: var(--text-dark);
        }

        .branch-map {
            height: 200px;
            width: 100%;
            border: none;
            display: block;
        }

        .branch-info {
            padding: 25px;
        }

        .branch-name {
            font-size: 20px;
            font-weight: 700;
            color: #004d40;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
        }

        .branch-name i {
            margin-left: 10px;
            font-size: 22px;
            color: var(--accent);
        }

        .branch-detail {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            font-size: 15px;
            line-height: 1.6;
        }

        .branch-detail i {
            margin-left: 12px;
            color: #00796b;
            min-width: 20px;
            font-size: 1.1em;
        }

        .branch-detail a {
            color: #005f52;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .branch-detail a:hover {
            color: #004d40;
            text-decoration: underline;
        }

        .branch-button {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            padding: 14px;
            margin-top: 20px;
            border-radius: 15px;
            text-decoration: none;
            font-weight: 700;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: none;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .branch-button i {
            margin-left: 10px;
            font-size: 1.2em;
        }

        .branch-button:hover {
            background: linear-gradient(135deg, #2E7D32, #4CAF50);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        /* 祝 拽专 */
        .category-page {
            display: none;
            flex-direction: column;
            width: 100%;
            height: 100%;
            padding: 30px;
            background: var(--card-light);
            border-radius: 24px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
            overflow-y: auto;
            position: absolute; /*  住转 转 住 专砖 */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 40; /* 注 住 专砖, 转转 转驻专/驻驻驻 */
        }

        .category-page.show {
            display: flex;
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .category-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-dark);
        }

        .back-to-home {
            background: rgba(0,0,0,0.05);
            border: none;
            color: var(--text-dark);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .back-to-home:hover {
            background: rgba(0,0,0,0.1);
            transform: scale(1.1);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* 专住  转专 */
            gap: 20px;
            padding-bottom: 20px;
            width: 100%;
        }

        .product-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 18px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 1px solid rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: var(--transition);
            position: relative;
            backdrop-filter: blur(5px);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .product-image {
            width: 120px; /* 转转 转 转专 */
            height: 120px;
            object-fit: contain;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .product-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .product-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
            flex-grow: 1;
        }

        .order-product-btn {
            background: var(--primary);
            color: white;
            padding: 10px 20px;
            border-radius: 12px;
            text-decoration: none;
            font-size: 15px;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
            width: 100%;
        }

        .order-product-btn i {
            margin-left: 8px;
        }

        .order-product-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.03);
        }

        .favorite-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255,255,255,0.7);
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            color: #ccc;
            transition: var(--transition);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .favorite-btn.active {
            color: var(--neon-red);
        }

        .favorite-btn:hover {
            background: rgba(255,255,255,0.9);
            transform: scale(1.1);
        }

        /* 住拽砖 驻转 (Splash Screen) */
        .splash-screen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 1;
            transition: opacity 1s ease-out;
        }

        .splash-screen-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            text-align: center;
        }

        .splash-whatsapp-logo {
            font-size: 80px;
            animation: pulse 1.5s infinite ease-in-out;
            margin-bottom: 20px;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.8; }
        }

        .splash-text {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
        }

        .chat-intro-box {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 90%;
            max-width: 350px;
            color: var(--text-dark);
            transform: translateY(20px);
            opacity: 0;
            animation: slideUpFadeIn 0.8s forwards 1s; /* 砖 驻 驻注 */
        }

        @keyframes slideUpFadeIn {
            to { transform: translateY(0); opacity: 1; }
        }

        .intro-avatar {
            width: 70px;
            height: 70px;
            background-image: url('https://i.postimg.cc/NjhWzHjM/1000101077.jpg');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            border: 3px solid var(--primary);
            margin-bottom: 15px;
        }

        .intro-agent-name {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-dark);
            margin-bottom: 5px;
        }

        .intro-status {
            font-size: 14px;
            color: #555;
            margin-bottom: 20px;
        }

        .intro-message {
            font-size: 16px;
            text-align: center;
            margin-bottom: 25px;
            color: #444;
        }

        .start-chat-btn {
            background: var(--primary);
            color: white;
            padding: 12px 25px;
            border-radius: 15px;
            border: none;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .start-chat-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        /*  拽驻抓  爪 */
        .agent-popup-overlay {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000; /* 转转 爪' 注爪 */
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease-out;
        }

        .agent-popup {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 15px;
            width: 320px;
            border: 1px solid var(--border-light);
            backdrop-filter: blur(10px);
            position: relative;
        }

        .agent-popup-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-image: url('https://ylt.co.il/wp-content/uploads/2021/08/smiling-woman-headset-presentation-something.jpg');
            background-size: cover;
            background-position: center;
            border: 2px solid var(--primary);
        }

        .agent-popup-content {
            flex-grow: 1;
        }

        .agent-popup-text {
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 10px;
        }

        .agent-popup-btn {
            background: var(--primary);
            color: white;
            padding: 8px 15px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
        }

        .agent-popup-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .agent-popup-timer {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: rgba(0,0,0,0.1);
            border-bottom-left-radius: 15px;
            border-bottom-right-radius: 15px;
            overflow: hidden;
        }

        .agent-popup-timer-fill {
            height: 100%;
            background: var(--accent);
            width: 100%;
            transition: width linear;
        }

        /* 专住驻住转 住 拽 (驻) */
        @media (max-width: 768px) {
            .tablet-container {
                border-radius: 0; /*  驻转 注转 驻 */
                min-height: 100vh;
                padding: 0;
            }

            .header-banner {
                padding: 15px 20px;
                flex-wrap: wrap; /* 驻砖专 砖 砖专  */
            }

            .header-title {
                font-size: 22px;
                padding-right: 10px;
                margin-right: 0;
                width: 100%; /* 转驻住 转  专 */
                text-align: center;
                margin-top: 10px;
            }

            .header-logo {
                height: 40px;
                width: 40px;
            }

            .main-menu-btn {
                padding: 10px 15px;
                font-size: 14px;
                margin-right: auto; /* 驻  */
            }

            .main-content-area {
                padding: 20px;
            }

            .buttons-grid {
                grid-template-columns: 1fr; /* 注 转  */
                gap: 15px;
            }

            .btn {
                padding: 18px;
                min-height: 100px;
                border-radius: 15px;
            }

            .btn-icon {
                font-size: 28px;
                margin-bottom: 10px;
            }

            .btn-text {
                font-size: 15px;
            }

            .whatsapp-chat-container {
                width: calc(100% - 40px); /* 专  驻 */
                height: 80vh; /*  住 */
                bottom: 10px;
                right: 10px;
                left: 10px;
                margin: auto;
            }

            .chat-header {
                margin-bottom: 15px;
                padding-bottom: 10px;
            }

            .chat-avatar {
                width: 40px;
                height: 40px;
                margin-left: 10px;
            }

            .chat-info h3 {
                font-size: 16px;
            }

            .chat-info p {
                font-size: 13px;
            }

            .chat-message {
                padding: 10px 15px;
                font-size: 14px;
                margin-right: 45px; /* 拽 专 */
                margin-left: 45px; /* 拽 专 */
            }

            .user-message .message-avatar {
                right: -40px;
            }

            .agent-message .message-avatar {
                left: -40px;
            }

            .chat-input-area {
                padding-top: 10px;
                margin-top: 10px;
            }

            .chat-input {
                padding: 10px 15px;
                font-size: 14px;
            }

            .chat-send-btn {
                width: 40px;
                height: 40px;
            }

            .faq-section {
                padding: 20px;
            }

            .faq-title {
                font-size: 20px;
            }

            .faq-search-input {
                padding: 10px 15px;
                font-size: 14px;
            }

            .faq-question {
                padding: 12px 18px;
                font-size: 15px;
            }

            .faq-answer {
                padding: 0 18px 15px;
                font-size: 14px;
            }

            .popup-container {
                padding: 25px 20px;
                border-radius: 20px;
            }

            .popup-title {
                font-size: 20px;
            }

            .close-popup {
                font-size: 26px;
            }

            .form-group input, .form-group textarea {
                padding: 10px 12px;
                font-size: 14px;
            }

            .popup-actions {
                flex-direction: column;
                gap: 10px;
            }

            .popup-btn {
                padding: 12px;
                font-size: 14px;
            }

            .branch-card {
                border-radius: 18px;
            }

            .branch-map {
                height: 180px;
            }

            .branch-info {
                padding: 20px;
            }

            .branch-name {
                font-size: 18px;
            }

            .branch-detail {
                font-size: 14px;
            }

            .branch-button {
                padding: 12px;
                font-size: 15px;
            }

            .category-page {
                padding: 20px;
            }

            .category-title {
                font-size: 24px;
            }

            .product-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 15px;
            }

            .product-card {
                padding: 15px;
            }

            .product-image {
                width: 100px;
                height: 100px;
            }

            .product-name {
                font-size: 16px;
            }

            .product-description {
                font-size: 13px;
            }

            .order-product-btn {
                font-size: 14px;
                padding: 8px 15px;
            }

            .splash-whatsapp-logo {
                font-size: 60px;
            }

            .splash-text {
                font-size: 20px;
            }

            .chat-intro-box {
                padding: 20px;
                max-width: 300px;
            }

            .intro-avatar {
                width: 60px;
                height: 60px;
            }

            .intro-agent-name {
                font-size: 18px;
            }

            .intro-status {
                font-size: 13px;
            }

            .intro-message {
                font-size: 15px;
            }

            .start-chat-btn {
                padding: 10px 20px;
                font-size: 15px;
            }

            .agent-popup {
                width: calc(100% - 40px);
                left: 10px;
                right: 10px;
                margin: auto;
            }
        }
    </style>
</head>
<body>
    <!-- 住拽砖 驻转 (Splash Screen) -->
    <div class="splash-screen-overlay" id="splashScreen">
        <div class="splash-screen-content">
            <i class="fab fa-whatsapp splash-whatsapp-logo"></i>
            <div class="splash-text">
                专  <br>.住 专 
            </div>
            <div class="chat-intro-box">
                <div class="intro-avatar"></div>
                <div class="intro-agent-name">爪 砖专转</div>
                <div class="intro-status"> 注转</div>
                <div class="intro-message">
                    砖   驻砖专 注专 ?
                </div>
                <button class="start-chat-btn" id="startChatBtn">转转 注 爪</button>
            </div>
        </div>
    </div>

    <!-- 拽专 专砖  住  -->
    <div class="tablet-container" id="tabletContainer" style="display: none;">
        <!-- 转专转 注/专 -->
        <div class="header-banner">
            <div class="header-logo"></div>
            <h1 class="header-title">.住 专 </h1>
            <button class="main-menu-btn" id="mainMenuBtn">
                <i class="fas fa-bars"></i>
                拽转 .住
            </button>
        </div>

        <!-- 专 转 专砖 -->
        <div class="main-content-area" id="mainContentArea">
            <!-- 驻转专  专砖 - 专 注 注爪 砖专 -->
            <div class="buttons-grid">
                <a href="https://rami1125.github.io/Saban94/" class="btn btn-primary" target="_blank">
                    <i class="fas fa-bolt btn-icon"></i>
                    <div class="btn-text"> 专</div>
                </a>

                <a href="https://did.li/fwj6q" class="btn btn-secondary" target="_blank">
                    <i class="fas fa-pencil-ruler btn-icon"></i>
                    <div class="btn-text">驻住 爪专驻转 拽</div>
                </a>

                <button class="btn btn-neon-red" data-initial-message="砖, 注  祝.">
                    <i class="fas fa-truck-loading btn-icon"></i>
                    <div class="btn-text">转 祝</div>
                </button>

                <button class="btn btn-neon-yellow" data-initial-message="砖, 注  砖转.">
                    <i class="fas fa-truck-moving btn-icon"></i>
                    <div class="btn-text">转 砖转</div>
                </button>

                <button class="btn btn-neon-cyan" data-initial-message="砖, 注 爪 .">
                    <i class="fas fa-dumpster btn-icon"></i>
                    <div class="btn-text">爪转 </div>
                </button>

                <a href="https://did.li/8B3TY" class="btn btn-orange" target="_blank">
                    <i class="fas fa-trash-alt btn-icon"></i>
                    <div class="btn-text">驻 驻住转</div>
                </a>

                <button class="btn btn-neon-magenta" data-initial-message="砖, 注 驻专 注 专 .">
                    <i class="fas fa-hard-hat btn-icon"></i>
                    <div class="btn-text">专 </div>
                </button>

                <button class="btn btn-neon-lime" data-initial-message="砖, 注 驻专 注 爪专 .">
                    <i class="fas fa-tint btn-icon"></i>
                    <div class="btn-text">爪专 </div>
                </button>

                <button class="btn btn-primary" data-initial-message="砖, 注 驻专 注 爪注  住专.">
                    <i class="fas fa-paint-roller btn-icon"></i>
                    <div class="btn-text">爪注  住专</div>
                </button>

                <button class="btn btn-secondary" data-initial-message="砖, 注 驻专 注 专爪驻转 注抓 .">
                    <i class="fas fa-tree btn-icon"></i>
                    <div class="btn-text">专爪驻转 注抓 </div>
                </button>

                <button class="btn btn-orange" data-initial-message="砖, 注 驻专 注 专 拽 爪注.">
                    <i class="fas fa-broom btn-icon"></i>
                    <div class="btn-text">专 拽 爪注</div>
                </button>

                <a href="https://did.li/BVEZH" class="btn btn-purple" target="_blank">
                    <i class="fas fa-hard-hat btn-icon"></i>
                    <div class="btn-text">注抓 拽爪注</div>
                </a>

                <button class="btn btn-accent" id="branchesBtn">
                    <i class="fas fa-map-marker-alt btn-icon"></i>
                    <div class="btn-text">住驻</div>
                </button>

                <button class="btn btn-whatsapp" id="contactBtn">
                    <i class="fab fa-whatsapp btn-icon"></i>
                    <div class="btn-text">爪专 拽砖专</div>
                </button>
            </div>

            <!-- 住拽砖 " 注 转" - 爪转 AI -->
            <div class="recommended-section">
                <div class="recommended-title">
                    <i class="fas fa-lightbulb"></i>
                     注 转
                </div>
                <div class="recommended-products-grid" id="recommendedProducts">
                    <!-- 爪转 爪  转 -->
                </div>
            </div>

            <!-- 住拽砖 砖转 驻爪转 -->
            <div class="faq-section">
                <div class="faq-header">
                    <h2 class="faq-title">
                        <i class="fas fa-question-circle"></i>
                        砖转 驻爪转
                    </h2>
                </div>
                <input type="text" class="faq-search-input" id="faqSearchInput" placeholder="驻砖 砖...">
                <div class="faq-list" id="faqList">
                    <!-- 砖转 转砖转 爪  -->
                </div>
            </div>
        </div>

        <!-- 驻 拽专转 (住驻 转) -->
        <div id="categoryPagesContainer"></div>
    </div>

    <!-- 转转 转转转  住驻 -->
    <div class="whatsapp-chat-container" id="whatsappChatContainer">
        <div class="chat-header">
            <button class="close-chat-btn" id="closeChatBtn"></button>
            <div class="chat-avatar"></div>
            <div class="chat-info">
                <h3>拽转 砖专转 拽转</h3>
                <p> 注转</p>
            </div>
        </div>
        <div class="chat-messages" id="chatMessages">
            <!-- 注转 爪' 爪  -->
            <div class="chat-message agent-message">
                砖   驻砖专 注专 ?
                <div class="message-avatar"></div>
            </div>
        </div>
        <div class="chat-input-area">
            <div class="chat-suggestions" id="chatSuggestions">
                <!-- 爪注转 驻注  -->
            </div>
            <div class="chat-input-row">
                <input type="text" class="chat-input" placeholder="转 注..." id="chatInput">
                <button class="chat-send-btn" id="chatSendBtn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- 驻转专 WhatsApp 拽注 - 驻转 转 转转 爪' -->
    <button class="fixed-whatsapp-btn" id="openChatBtn">
        <i class="fab fa-whatsapp"></i>
    </button>

    <!--  拽驻抓 驻住 驻  -->
    <div class="popup-overlay" id="messagePopup">
        <div class="popup-container">
            <div class="popup-header">
                <div class="popup-title">
                    <i class="fas fa-envelope"></i>
                    砖 驻
                </div>
                <button class="close-popup" id="closePopup"></button>
            </div>

            <div class="popup-content">
                <div class="form-group">
                    <label for="formNameInput">砖 :</label>
                    <input type="text" id="formNameInput" placeholder="住/ 砖 " autocomplete="name">
                </div>
                <div class="form-group">
                    <label for="formPhoneInput">驻:</label>
                    <input type="tel" id="formPhoneInput" placeholder="住/ 住驻专 驻" autocomplete="tel">
                </div>
                <div class="form-group">
                    <label for="formSubjectInput">砖 驻:</label>
                    <input type="text" id="formSubjectInput" placeholder=": 转 , 砖 注 专" autocomplete="on">
                </div>
                <div class="form-group">
                    <label for="formMessageInput">砖 / 拽砖:</label>
                    <textarea id="formMessageInput" placeholder="驻专/ 转 砖转  拽砖转 ..."></textarea>
                </div>

                <div class="form-summary" id="formSummary">
                    <h4><i class="fas fa-clipboard-list"></i> 住 驻:</h4>
                    <p id="summaryName">砖: </p>
                    <p id="summaryPhone">驻: </p>
                    <p id="summarySubject">砖: </p>
                    <p id="summaryMessage">拽砖: </p>
                </div>
            </div>

            <div class="popup-actions">
                <button class="popup-btn popup-btn-copy" id="copyFormMessageBtn">
                    注转拽 注
                    <i class="far fa-copy"></i>
                </button>
                <button class="popup-btn popup-btn-send" id="sendFormWhatsappBtn">
                    砖 住驻
                    <i class="fab fa-whatsapp"></i>
                </button>
            </div>
        </div>
    </div>

    <!--  拽驻抓 住驻 -->
    <div class="popup-overlay" id="branchesPopup">
        <div class="popup-container">
            <div class="popup-header">
                <div class="popup-title">
                    <i class="fas fa-map-marked-alt"></i>
                    住驻 专
                </div>
                <button class="close-popup" id="closeBranchesPopup"></button>
            </div>

            <div class="popup-content">
                <!-- 专住 住祝 转 6 -->
                <div class="branch-card">
                    <iframe class="branch-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3364.3245342509334!2d34.89983887573536!3d32.15740511747278!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x151d38257da6385b%3A0x34b1c300a0e4570b!2z15zXqNeZINeo15XXmdeaINeV16HXmdeZICzXldeq15nXlCDXqtei16jXmdeU16jXldec15Qg15XXl9eU!5e0!3m2!1sen!2sil!4v1707823456789" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    <div class="branch-info">
                        <h3 class="branch-name">
                            <i class="fas fa-store"></i>
                            住祝  砖专 - 转 6
                        </h3>
                        <div class="branch-detail">
                            <i class="fas fa-phone"></i>
                            <span>驻: <a href="tel:09-7602010">09-7602010</a></span>
                        </div>
                        <div class="branch-detail">
                            <i class="fas fa-clock"></i>
                            <span>砖注转 驻注转: '-': 06:00-18:00, ': 06:00-14:00</span>
                        </div>
                        <div class="branch-detail">
                            <i class="fas fa-truck"></i>
                            <span>砖专转 转: 注 500 , 驻 注 100 专</span>
                        </div>
                        <button class="branch-button" onclick="window.open('https://www.google.com/maps/dir/?api=1&destination=32.1574051,34.9024138', '_blank')">
                            <span> 住祝</span>
                            <i class="fas fa-directions"></i>
                        </button>
                    </div>
                </div>
                <!-- 专住 住祝 专砖 10 -->
                <div class="branch-card">
                    <iframe class="branch-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3364.3288500412585!2d34.8998426155857!3d32.15720128011981!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x151d382571234567%3A0xa1b2c3d4e5f67890!2sHaHarash%2010%2C%20Hod%20HaSharon!5e0!3m2!1sen!2sil!4v1707823456789" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    <div class="branch-info">
                        <h3 class="branch-name">
                            <i class="fas fa-store"></i>
                            住祝  砖专 - 专砖 10
                        </h3>
                        <div class="branch-detail">
                            <i class="fas fa-phone"></i>
                            <span>驻: <a href="tel:09-7402575">09-7402575</a></span>
                        </div>
                        <div class="branch-detail">
                            <i class="fas fa-clock"></i>
                            <span>砖注转 驻注转: '-': 06:30-16:00, ': 06:30-13:30</span>
                        </div>
                        <div class="branch-detail">
                            <i class="fas fa-warehouse"></i>
                            <span>住祝 注爪: 专  住 </span>
                        </div>
                        <button class="branch-button" onclick="window.open('https://www.google.com/maps/dir/?api=1&destination=32.1572013,34.9020174', '_blank')">
                            <span> 住祝</span>
                            <i class="fas fa-directions"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--  拽驻抓  爪 -->
    <div class="agent-popup-overlay" id="agentPopupOverlay">
        <div class="agent-popup">
            <div class="agent-popup-avatar"></div>
            <div class="agent-popup-content">
                <div class="agent-popup-text">
                    砖!    砖 - 专爪 注专 爪转 爪专?
                </div>
                <button class="agent-popup-btn" id="openChatFromPopupBtn">
                    驻转 转驻专
                </button>
            </div>
            <div class="agent-popup-timer">
                <div class="agent-popup-timer-fill" id="agentPopupTimerFill"></div>
            </div>
        </div>
    </div>

    <!-- 转驻专  驻转 -->
    <div class="nav-overlay" id="navOverlay">
        <div class="nav-menu">
            <button class="close-nav" id="closeNav"></button>
            <ul>
                <li><a href="#" data-category="砖"><i class="fas fa-lightbulb"></i> 砖</a></li>
                <li><a href="#" data-category="专 "><i class="fas fa-hard-hat"></i> 专 </a></li>
                <li><a href="#" data-category=" 注"><i class="fas fa-tools"></i>  注</a></li>
                <li><a href="#" data-category="拽转 爪注"><i class="fas fa-paint-brush"></i> 拽转 爪注</a></li>
                <li><a href="#" data-category="爪 转"><i class="fas fa-shield-alt"></i> 爪 转</a></li>
                <li><a href="#" data-category="拽转 "><i class="fas fa-leaf"></i> 拽转 </a></li>
                <li><a href="#" data-category="砖专转 "><i class="fas fa-truck"></i> 砖专转 </a></li>
                <li><a href="#" data-category="住驻" id="navBranchesBtn"><i class="fas fa-map-marker-alt"></i> 住驻</a></li>
            </ul>
        </div>
    </div>

    <script>
        // 转 爪专  (驻 转 转)
        const productsData = {
            "砖": [
                { id: "e1", name: " 砖 3x2.5", description: " 砖 转拽 砖砖 转 转注砖转 拽.", image: "https://placehold.co/120x120/f0f0f0/333333?text=+砖" },
                { id: "e2", name: "砖拽注 驻 住", description: "砖拽注 砖 驻 转 转拽 拽专.", image: "https://placehold.co/120x120/f0f0f0/333333?text=砖拽注+砖" },
                { id: "e3", name: "驻住拽 转专", description: "驻住拽  砖, 转专 注.", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻住拽+转专" },
                { id: "e4", name: " 砖 12 拽", description: " 砖 转拽 专转 砖专 拽.", image: "https://placehold.co/120x120/f0f0f0/333333?text=+砖" },
                { id: "e5", name: "专转  住转", description: "专 5 专转  E27 住转 专.", image: "https://placehold.co/120x120/f0f0f0/333333?text=专转+" },
                { id: "e6", name: "驻住 爪专 转专", description: "驻住 爪专 拽专 转专转 住驻.", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻住+爪专" }
            ],
            "专 ": [
                { id: "b1", name: " 50 拽\"", description: "砖拽  驻专 转 .", image: "https://placehold.co/120x120/f0f0f0/333333?text=" },
                { id: "b2", name: "  (拽)", description: "  拽 转  .", image: "https://placehold.co/120x120/f0f0f0/333333?text=+" },
                { id: "b3", name: "拽 ", description: "拽  拽 转 转 拽专转.", image: "https://placehold.co/120x120/f0f0f0/333333?text=拽+" },
                { id: "b4", name: " ", description: "  砖砖 砖, 注 砖转.", image: "https://placehold.co/120x120/f0f0f0/333333?text=+" }
            ],
            " 注": [
                { id: "t1", name: "驻砖 5 拽\"", description: "驻砖  注转 专住 .", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻砖" },
                { id: "t2", name: "拽 专转", description: "拽 拽爪注转 拽  注抓.", image: "https://placehold.co/120x120/f0f0f0/333333?text=拽" },
                { id: "t3", name: "驻转 砖", description: "驻转 砖 转  砖.", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻转" },
                { id: "t4", name: "住专 砖", description: "住专 砖 转 注抓 转转.", image: "https://placehold.co/120x120/f0f0f0/333333?text=住专" },
                { id: "t5", name: "住拽转 转 ", description: "住拽转 转转 转  .", image: "https://placehold.co/120x120/f0f0f0/333333?text=住拽转" },
                { id: "t6", name: "专 砖转", description: "专 注转 注转 专 驻专拽.", image: "https://placehold.co/120x120/f0f0f0/333333?text=专" }
            ],
            "拽转 爪注": [
                { id: "p1", name: "爪注 拽专 ", description: "爪注 拽专 转 拽专转 驻.", image: "https://placehold.co/120x120/f0f0f0/333333?text=爪注+" },
                { id: "p2", name: "驻专专 拽专转", description: "专 拽砖专 驻 爪注 砖驻专 .", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻专专" },
                { id: "p3", name: "专专 爪注", description: "专专 转 爪注  专.", image: "https://placehold.co/120x120/f0f0f0/333333?text=专专" },
                { id: "p4", name: "砖 爪注", description: "砖 驻住拽  砖砖 注 专专.", image: "https://placehold.co/120x120/f0f0f0/333333?text=砖+爪注" },
                { id: "p5", name: "砖 爪注", description: "砖 拽专 砖  爪注.", image: "https://placehold.co/120x120/f0f0f0/333333?text=砖" },
                { id: "p6", name: "爪注 专 拽专转", description: "爪注 转 砖 专 拽专转 驻 抓.", image: "https://placehold.co/120x120/f0f0f0/333333?text=专" },
                { id: "p7", name: "爪注 驻拽住 专爪驻", description: "爪注 驻拽住 注  专爪驻转 转注砖转转.", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻拽住" },
                { id: "p8", name: "住驻专 爪注 砖专", description: "爪注 住驻专 专 砖 转转 注抓.", image: "https://placehold.co/120x120/f0f0f0/333333?text=住驻专" }
            ],
            "爪 转": [
                { id: "s1", name: "拽住转 转", description: "拽住 拽砖  注 专砖 转专 .", image: "https://placehold.co/120x120/f0f0f0/333333?text=拽住" },
                { id: "s2", name: "驻驻转 注", description: "驻驻转 注转  注 .", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻驻转" },
                { id: "s3", name: "注 转", description: "注 注 驻转   注 驻转 专.", image: "https://placehold.co/120x120/f0f0f0/333333?text=注+转" },
                { id: "s4", name: "驻 专", description: "驻 专 专转  砖.", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻+专" }
            ],
            "拽转 ": [
                { id: "g1", name: "住转 砖", description: "住转 砖 砖转 拽  砖砖.", image: "https://placehold.co/120x120/f0f0f0/333333?text=住转" },
                { id: "g2", name: "爪专 砖拽 20 '", description: "爪专 砖拽 砖 注 .", image: "https://placehold.co/120x120/f0f0f0/333333?text=爪专" },
                { id: "g3", name: "专", description: "专  转转  注爪 砖.", image: "https://placehold.co/120x120/f0f0f0/333333?text=专" },
                { id: "g4", name: "砖 ", description: "砖  专 砖 爪 .", image: "https://placehold.co/120x120/f0f0f0/333333?text=砖" }
            ],
            "砖专转 ": [
                { id: "h1", name: "转  ()", description: "转  注 10  转专 拽.", image: "https://placehold.co/120x120/f0f0f0/333333?text=转+" },
                { id: "h2", name: "祝 20 专", description: "砖专转 祝 注  20 专 专转 专.", image: "https://placehold.co/120x120/f0f0f0/333333?text=祝" },
                { id: "h3", name: "驻 驻住转 8 拽", description: "驻 驻住转   8 拽.", image: "https://placehold.co/120x120/f0f0f0/333333?text=驻+驻住转" },
                { id: "h4", name: "转  (拽)", description: "转  转 转 转专 .", image: "https://placehold.co/120x120/f0f0f0/333333?text=转+" }
            ]
        };

        // 转 砖转 驻爪转
        const faqData = [
            {
                question: "住 拽",
                answer: " 住驻拽  专 砖 拽 ,  拽 , 拽  ( ), 拽 驻住, 拽 .  住 转 砖砖 砖, 转 专砖转 驻专拽 转拽.",
                keywords: ["拽", "", "", "驻住", ""]
            },
            {
                question: "   ",
                answer: "  专  注拽专 砖砖 爪专  .   转注专转 砖 , ,  注转  住, 砖砖 注拽专 专 拽,  专爪祝.    砖砖  砖专.",
                keywords: ["", "", "  ", "  ", "  "]
            },
            {
                question: "砖注转 驻注转",
                answer: "砖注转 驻注转 砖 住祝 转 6  砖专 : '-': 06:00-18:00, ': 06:00-14:00. 砖注转 驻注转 砖 住祝 专砖 10  砖专 : '-': 06:30-16:00, ': 06:30-13:30.",
                keywords: ["砖注转 驻转", "砖注转 驻注转", "转 驻转", "住驻 砖注转"]
            },
            {
                question: "砖  ",
                answer: " 爪注 砖  专 专抓.   砖转 转 住 专 专拽 砖. 抓 爪专 拽砖专 注 拽转 转 拽转 驻专 拽 注专  砖.",
                keywords: ["砖", "", " ", "注转 砖"]
            },
            {
                question: "砖专转 祝",
                answer: " 爪注 砖专转 祝 转拽 专转 专  注  100 专,  砖专转  注 砖转 住转 砖转 注 500 . 砖专转   住 驻专拽.",
                keywords: ["祝", "砖专转 祝", "转 转"]
            },
            {
                question: "专  专转",
                answer: "砖   专 砖 专  转拽 注转 专转,  专  , 爪, 拽专 注. 砖 注抓  注 专 转 转专 爪专 住驻爪驻 砖.",
                keywords: ["专转", "", "专 ", " 拽专"]
            },
            {
                question: "住 ",
                answer: " 住驻拽    专转 拽 住,   专,  拽,  ,  . 转   驻 拽, 注 驻砖专转 砖转 .",
                keywords: ["", " ", "住 ", "拽 "]
            },
            {
                question: "  拽  拽 专",
                answer: "拽  ( )  拽 拽  转专转 拽住转 转专 拽  专.  注砖 专 拽 住驻拽   转专,  拽专 转专 专砖 砖转 注 砖转.",
                keywords: ["", "拽 专", "拽 ", " 拽"]
            },
            {
                question: "专 ",
                answer: " 爪注  专  转专 拽住,  爪专 住注, 驻住专 拽爪祝 (拽拽专), 驻专转, 转 住 注 . 专  住注 住 专 砖驻专 转 专.",
                keywords: ["", "专 ", " 转专", " 拽住"]
            },
            {
                question: "拽   注爪转",
                answer: " 注爪转 砖专 驻驻 拽 转  转拽转 专转. 专砖 转专 , 转转 专转 住转, 驻拽 爪, 注 转拽 转. 抓 转注抓 注 砖 拽爪注 住.",
                keywords: [" 注爪转", "拽 ", "转专 ", "转拽转 "]
            },
            {
                question: "爪 转 ",
                answer: "驻 , 爪 转  转专   拽住转 转, 注 转 注 驻转 , 驻驻转 注, 驻 专, 砖拽驻 . 砖 拽驻 注 砖砖 爪 转拽 转 转 转.",
                keywords: ["爪 转", "转 ", " 转", "爪 "]
            }
        ];

        //  
        const tabletContainer = document.getElementById('tabletContainer');
        const mainContentArea = document.getElementById('mainContentArea');
        const categoryPagesContainer = document.getElementById('categoryPagesContainer');
        const allButtons = document.querySelectorAll('.btn, .popup-btn, .branch-button, .chat-send-btn, .close-popup, .main-menu-btn, .back-to-home, .order-product-btn, .favorite-btn, .start-chat-btn, .agent-popup-btn, .open-chat-btn');

        //  砖 住拽砖 驻转 (Splash Screen)
        const splashScreen = document.getElementById('splashScreen');
        const startChatBtn = document.getElementById('startChatBtn');

        //  砖 转驻专 
        const mainMenuBtn = document.getElementById('mainMenuBtn');
        const navOverlay = document.getElementById('navOverlay');
        const closeNav = document.getElementById('closeNav');
        const navLinks = document.querySelectorAll('.nav-menu ul li a');

        //  砖  拽驻抓 驻住 驻 (messagePopup 砖砖 注转 驻住)
        const messagePopup = document.getElementById('messagePopup');
        const closePopup = document.getElementById('closePopup');
        const formNameInput = document.getElementById('formNameInput');
        const formPhoneInput = document.getElementById('formPhoneInput');
        const formSubjectInput = document.getElementById('formSubjectInput');
        const formMessageInput = document.getElementById('formMessageInput');
        const formSummary = document.getElementById('formSummary');
        const summaryName = document.getElementById('summaryName');
        const summaryPhone = document.getElementById('summaryPhone');
        const summarySubject = document.getElementById('summarySubject');
        const summaryMessage = document.getElementById('summaryMessage');
        const copyFormMessageBtn = document.getElementById('copyFormMessageBtn');
        const sendFormWhatsappBtn = document.getElementById('sendFormWhatsappBtn');

        //  砖 住驻
        const branchesBtn = document.getElementById('branchesBtn');
        const branchesPopup = document.getElementById('branchesPopup');
        const closeBranchesPopup = document.getElementById('closeBranchesPopup');
        const navBranchesBtn = document.getElementById('navBranchesBtn');

        //  砖 爪' 住驻 
        const whatsappChatContainer = document.getElementById('whatsappChatContainer');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const chatSendBtn = document.getElementById('chatSendBtn');
        const closeChatBtn = document.getElementById('closeChatBtn');
        const openChatBtn = document.getElementById('openChatBtn');
        const chatSuggestionsContainer = document.getElementById('chatSuggestions');

        //  砖 爪转 AI
        const recommendedProductsContainer = document.getElementById('recommendedProducts');
        let searchHistory = []; // 住专转 驻砖/爪驻转 砖 砖转砖

        //  砖 砖转 驻爪转
        const faqList = document.getElementById('faqList');
        const faqSearchInput = document.getElementById('faqSearchInput');

        //  砖  拽驻抓  爪
        const agentPopupOverlay = document.getElementById('agentPopupOverlay');
        const openChatFromPopupBtn = document.getElementById('openChatFromPopupBtn');
        const agentPopupTimerFill = document.getElementById('agentPopupTimerFill');

        // 转转 拽注 住驻
        const WHATSAPP_FIXED_URL = 'https://wa.me/message/KTODAS7656R6P1';

        // 爪注转 砖转 爪'
        const chatSuggestionsData = [
            " 砖注转 驻注转 砖?",
            " 砖  砖?",
            " 爪专 注专 注 ",
            "砖  祝",
            " 砖  拽 ?"
        ];

        // --- 驻拽爪转 转 ---

        // 驻拽爪转 驻拽 拽
        function typeMessage(element, text, speed = 40) {
            element.textContent = '';
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.textContent = text.substring(0, i + 1);
                    i++;
                    setTimeout(type, speed);
                }
            }
            type();
        }

        // 驻拽爪 爪转 驻驻驻
        function showPopup(popupElement) {
            popupElement.classList.add('show');
            adjustPopupHeight();
        }

        // 驻拽爪 住转专转 驻驻驻
        function hidePopup(popupElement) {
            popupElement.classList.remove('show');
        }

        // 转转  -popup-content  住
        function adjustPopupHeight() {
            const popups = document.querySelectorAll('.popup-container');
            popups.forEach(popup => {
                const headerHeight = popup.querySelector('.popup-header') ? popup.querySelector('.popup-header').offsetHeight : 0;
                const actionsHeight = popup.querySelector('.popup-actions') ? popup.querySelector('.popup-actions').offsetHeight : 0;
                const padding = parseInt(window.getComputedStyle(popup).paddingTop) + parseInt(window.getComputedStyle(popup).paddingBottom);
                const availableHeight = window.innerHeight * 0.9 - headerHeight - actionsHeight - padding;
                const popupContent = popup.querySelector('.popup-content');
                if (popupContent) {
                    popupContent.style.maxHeight = `${availableHeight}px`;
                }
            });
        }

        // 爪转 驻转专 爪 注
        allButtons.forEach(button => {
            button.addEventListener('mousedown', function() {
                this.style.transform = 'scale(0.95)';
                this.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
            });

            button.addEventListener('mouseup', function() {
                if (button.matches('.btn:hover')) {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                    this.style.boxShadow = '0 12px 25px rgba(0, 0, 0, 0.15), inset 0 0 8px rgba(255, 255, 255, 0.7)';
                } else if (button.matches('.popup-btn:hover, .branch-button:hover, .chat-send-btn:hover, .order-product-btn:hover, .start-chat-btn:hover, .main-menu-btn:hover, .agent-popup-btn:hover')) {
                    this.style.transform = 'translateY(-2px)';
                } else if (button.matches('.close-popup:hover, .back-to-home:hover, .favorite-btn:hover, .close-chat-btn:hover, #openChatBtn:hover')) {
                    this.style.transform = 'scale(1.1)';
                } else {
                    this.style.transform = 'scale(1)';
                }
            });

            button.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
                this.style.boxShadow = '';
                if (button.matches('.btn')) {
                    this.style.boxShadow = '0 8px 20px rgba(0, 0, 0, 0.1), inset 0 0 5px rgba(255, 255, 255, 0.5)';
                }
            });
        });

        // --- 拽转 住拽砖 驻转 (Splash Screen) ---
        startChatBtn.addEventListener('click', () => {
            splashScreen.style.opacity = '0';
            setTimeout(() => {
                splashScreen.style.display = 'none';
                tabletContainer.style.display = 'flex';
                showAgentPopup(); // 爪转 驻驻驻 砖 爪 专 注转 转专
            }, 1000); // 转  注专 砖 -opacity
        });

        // --- 拽转 转驻专  ---
        mainMenuBtn.addEventListener('click', () => {
            navOverlay.classList.add('show');
        });

        closeNav.addEventListener('click', () => {
            navOverlay.classList.remove('show');
        });

        // 驻拽爪 爪转 祝 拽专
        function showCategoryPage(categoryName) {
            // 住转专转  驻 拽专转 拽
            document.querySelectorAll('.category-page').forEach(page => page.classList.remove('show'));
            // 住转专转 专 转 专砖
            mainContentArea.style.display = 'none';

            // 爪专转 祝 拽专 砖   拽
            let categoryPage = document.getElementById(`category-${categoryName.replace(/\s/g, '-')}`);
            if (!categoryPage) {
                categoryPage = document.createElement('div');
                categoryPage.className = 'category-page';
                categoryPage.id = `category-${categoryName.replace(/\s/g, '-')}`;
                categoryPagesContainer.appendChild(categoryPage);
            }

            categoryPage.innerHTML = `
                <div class="category-header">
                    <button class="back-to-home"><i class="fas fa-arrow-right"></i></button>
                    <h2 class="category-title">${categoryName}</h2>
                    <div></div> <!-- Placeholder for alignment -->
                </div>
                <div class="product-grid">
                    <!-- 爪专 爪  -->
                </div>
            `;
            categoryPage.classList.add('show');

            const productGrid = categoryPage.querySelector('.product-grid');
            const products = productsData[categoryName] || [];

            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <button class="favorite-btn" data-product-id="${product.id}"><i class="far fa-heart"></i></button>
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <button class="order-product-btn" data-product-name="${product.name}">
                         注砖 住驻
                        <i class="fab fa-whatsapp"></i>
                    </button>
                `;
                productGrid.appendChild(productCard);

                // 住驻转 专注 爪 驻转专 
                productCard.querySelector('.order-product-btn').addEventListener('click', function() {
                    const productName = this.getAttribute('data-product-name');
                    const message = `砖,  注  转 爪专: ${productName}. 砖 驻专 住驻.`;
                    // 驻转转 驻住 驻  注 注 专转 专砖
                    showDynamicContactForm(message);
                });

                // 住驻转 专注 爪 驻转专  (注驻)
                productCard.querySelector('.favorite-btn').addEventListener('click', function() {
                    this.classList.toggle('active');
                    this.querySelector('i').classList.toggle('far');
                    this.querySelector('i').classList.toggle('fas');
                    updateSearchHistory(product.name); // 住驻 住专转 驻砖
                    updateRecommendedProducts(); // 注 爪转
                });
            });

            // 住驻转 专注 爪 驻转专 专 祝 转 转 拽专
            categoryPage.querySelector('.back-to-home').addEventListener('click', () => {
                categoryPage.classList.remove('show');
                mainContentArea.style.display = 'flex';
            });
        }

        // 驻 爪 注 拽砖专 
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const category = this.getAttribute('data-category');
                if (category === "住驻") {
                    showPopup(branchesPopup);
                } else {
                    showCategoryPage(category);
                }
                navOverlay.classList.remove('show'); // 住专转 转驻专 
            });
        });

        // --- 拽转 驻住 驻  ---
        function showDynamicContactForm(initialMessage = '') {
            formNameInput.value = '';
            formPhoneInput.value = '';
            formSubjectInput.value = ''; // Reset subject
            formMessageInput.value = initialMessage;

            // Attempt to infer subject from initialMessage if it's empty
            if (initialMessage) {
                if (initialMessage.includes('祝')) {
                    formSubjectInput.value = '转 祝';
                } else if (initialMessage.includes('砖转')) {
                    formSubjectInput.value = '转 砖转';
                } else if (initialMessage.includes('')) {
                    formSubjectInput.value = '爪转 ';
                } else if (initialMessage.includes('专 ')) {
                    formSubjectInput.value = '砖 注 专 ';
                } else if (initialMessage.includes('爪专 ')) {
                    formSubjectInput.value = '砖 注 爪专 ';
                } else if (initialMessage.includes('爪注')) {
                    formSubjectInput.value = '砖 注 爪注';
                } else if (initialMessage.includes('专爪驻转') || initialMessage.includes('注抓 ')) {
                    formSubjectInput.value = '砖 注 专爪驻转 注抓';
                } else if (initialMessage.includes('拽')) {
                    formSubjectInput.value = '砖 注 专 拽';
                } else if (initialMessage.includes('注抓')) {
                    formSubjectInput.value = '拽砖转 注抓 拽爪注';
                } else if (initialMessage.includes('')) {
                    formSubjectInput.value = '砖/拽砖转 ';
                }
            }

            updateFormSummary();
            showPopup(messagePopup);
        }

        // 注 住 驻住  转
        function updateFormSummary() {
            summaryName.textContent = `砖: ${formNameInput.value.trim()}`;
            summaryPhone.textContent = `驻: ${formPhoneInput.value.trim()}`;
            summarySubject.textContent = `砖: ${formSubjectInput.value.trim()}`;
            summaryMessage.textContent = `拽砖: ${formMessageInput.value.trim()}`;
        }

        formNameInput.addEventListener('input', updateFormSummary);
        formPhoneInput.addEventListener('input', updateFormSummary);
        formSubjectInput.addEventListener('input', updateFormSummary);
        formMessageInput.addEventListener('input', updateFormSummary);

        closePopup.addEventListener('click', () => hidePopup(messagePopup));

        // 注转拽转 注 驻住  专
        copyFormMessageBtn.addEventListener('click', function() {
            const message = `砖: ${formNameInput.value.trim()}\n驻: ${formPhoneInput.value.trim()}\n砖: ${formSubjectInput.value.trim()}\n拽砖: ${formMessageInput.value.trim()}`;
            const textarea = document.createElement('textarea');
            textarea.value = message;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);

            this.innerHTML = '<i class="fas fa-check ml-2"></i> 注转拽!';
            setTimeout(() => {
                this.innerHTML = '注转拽 注 <i class="far fa-copy"></i>';
            }, 2000);
        });

        // 砖转 注 驻住 住驻
        sendFormWhatsappBtn.addEventListener('click', function() {
            const originalText = this.innerHTML; // 砖专 转 拽住 拽专
            this.innerHTML = '砖 住驻! <i class="fas fa-check"></i>'; // 砖 转 拽住
            this.style.backgroundColor = 'var(--primary-dark)'; // 砖 爪注
            this.style.boxShadow = '0 0 15px rgba(37, 211, 102, 0.6)'; // 砖 爪

            const message = `砖,  驻 转专:\n砖: ${formNameInput.value.trim()}\n驻: ${formPhoneInput.value.trim()}\n砖: ${formSubjectInput.value.trim()}\n拽砖: ${formMessageInput.value.trim()}`;
            const whatsappUrl = `${WHATSAPP_FIXED_URL}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');

            setTimeout(() => {
                this.innerHTML = originalText; // 砖专 转 拽住 拽专
                this.style.backgroundColor = ''; // 砖专 爪注
                this.style.boxShadow = ''; // 砖专 爪
            }, 2000); // 专 爪 专 专 2 砖转
        });

        // --- 拽转 住驻 ---
        branchesBtn.addEventListener('click', () => showPopup(branchesPopup));
        closeBranchesPopup.addEventListener('click', () => hidePopup(branchesPopup));

        // --- 拽转 爪' 住驻  ---
        function addMessageToChat(message, sender) {
            const messageElement = document.createElement('div');
            messageElement.className = `chat-message ${sender}-message`;

            const avatarElement = document.createElement('div');
            avatarElement.className = 'message-avatar';
            if (sender === 'user') {
                avatarElement.innerHTML = '<i class="fas fa-user"></i>'; // 拽 专 拽
            }
            // 专 爪 专 -CSS

            messageElement.textContent = message;
            messageElement.appendChild(avatarElement); // 住驻转 专 转 注转 注

            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight; //  转转转
        }

        // 爪注转 砖转 爪'
        function renderChatSuggestions() {
            chatSuggestionsContainer.innerHTML = '';
            chatSuggestionsData.forEach(suggestion => {
                const btn = document.createElement('button');
                btn.className = 'chat-suggestion-btn';
                btn.textContent = suggestion;
                btn.addEventListener('click', () => {
                    chatInput.value = suggestion;
                    chatSendBtn.click();
                });
                chatSuggestionsContainer.appendChild(btn);
            });
        }

        chatSendBtn.addEventListener('click', async () => {
            const userMessage = chatInput.value.trim();
            if (userMessage) {
                addMessageToChat(userMessage, 'user');
                chatInput.value = '';

                // 转 注 爪注转 转砖/驻 爪注转 AI
                setTimeout(async () => {
                    const prompt = `砖转砖 砖: "${userMessage}". 转住住 注 砖转 驻爪转 转,  砖 转砖 转?
                    ${JSON.stringify(faqData.map(faq => ({ question: faq.question, answer: faq.answer, keywords: faq.keywords })))}
                     砖 转砖 转, 专 专拽 转 转砖.  砖 拽砖专 , 祝, 砖转, ,  驻专 注 爪专, 专 转 拽住 "驻转 驻住 驻".  砖 拽砖专 住驻  拽, 专 转 拽住 "驻转 住驻".   爪 转, 专 转 拽住 "".`;

                    try {
                        const payload = {
                            contents: [{ role: "user", parts: [{ text: prompt }] }],
                            generationConfig: {
                                responseMimeType: "text/plain" // 爪驻 拽住 专
                            }
                        };
                        const apiKey = ""; // API Key will be provided by Canvas runtime
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        const result = await response.json();
                        let agentResponseText = '转 注 驻转! 爪 砖专转 专  拽.';
                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            const aiResponse = result.candidates[0].content.parts[0].text.trim();

                            if (aiResponse.includes("驻转 驻住 驻")) {
                                agentResponseText = '注 转 驻 拽砖转 爪专  转专,  / 转 驻住 :';
                                addMessageToChat(agentResponseText, 'agent');
                                setTimeout(() => showDynamicContactForm(userMessage), 1000);
                                return;
                            } else if (aiResponse.includes("驻转 住驻")) {
                                agentResponseText = '驻专 住驻 砖, 抓/ 注 驻转专 "住驻" 转驻专 专砖  :';
                                addMessageToChat(agentResponseText, 'agent');
                                setTimeout(() => showPopup(branchesPopup), 1000);
                                return;
                            } else if (aiResponse.includes("")) {
                                agentResponseText = '转 注 驻转! 爪 砖专转 专  拽. 转, 转/ 砖 转 注  住驻:';
                            } else {
                                //  专 转砖 -FAQ
                                agentResponseText = aiResponse;
                            }
                        }

                        addMessageToChat(agentResponseText, 'agent');
                        // 爪注转 驻转专 砖 住驻 注  住专转 爪'
                        setTimeout(() => {
                            const shareBtn = document.createElement('button');
                            shareBtn.className = 'popup-btn popup-btn-send';
                            shareBtn.textContent = '砖 住专转 爪\' 住驻';
                            shareBtn.style.width = 'fit-content';
                            shareBtn.style.marginTop = '10px';
                            shareBtn.style.alignSelf = 'center';
                            shareBtn.addEventListener('click', function() { // 砖 -function()  砖-this 注
                                const originalShareText = this.innerHTML;
                                this.innerHTML = '砖 住驻! <i class="fas fa-check"></i>';
                                this.style.backgroundColor = 'var(--primary-dark)';
                                this.style.boxShadow = '0 0 15px rgba(37, 211, 102, 0.6)';

                                let chatHistoryText = Array.from(chatMessages.children).map(msg => {
                                    const sender = msg.classList.contains('user-message') ? '转' : '爪';
                                    const text = msg.textContent.replace('砖 住专转 爪\' 住驻', '').trim(); // 住专转 拽住 驻转专
                                    return `${sender}: ${text}`;
                                }).filter(line => line.trim() !== '').join('\n'); // 住 砖专转 专拽转
                                const whatsappUrl = `${WHATSAPP_FIXED_URL}?text=${encodeURIComponent("住专转 爪' 转专:\n" + chatHistoryText)}`;
                                window.open(whatsappUrl, '_blank');

                                setTimeout(() => {
                                    this.innerHTML = originalShareText;
                                    this.style.backgroundColor = '';
                                    this.style.boxShadow = '';
                                }, 2000);
                            });
                            chatMessages.appendChild(shareBtn);
                            chatMessages.scrollTop = chatMessages.scrollHeight;
                        }, 500);

                    } catch (error) {
                        console.error('Error fetching AI response:', error);
                        addMessageToChat(' 转爪,  砖 注专转. 爪 砖专转 专  拽.', 'agent');
                    }
                }, 1000); // 砖 拽 转转 爪
            }
        });

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                chatSendBtn.click();
            }
        });

        // 驻转转 住专转 转转 爪'
        openChatBtn.addEventListener('click', () => {
            whatsappChatContainer.classList.add('show');
        });

        closeChatBtn.addEventListener('click', () => {
            whatsappChatContainer.classList.remove('show');
        });

        // --- 拽转 砖转 驻爪转 ---
        function renderFAQs(filter = '') {
            faqList.innerHTML = '';
            // 住 砖转 驻 转 驻转  拽住 
            const filteredFaqs = faqData.filter(faq =>
                faq.question.toLowerCase().includes(filter.toLowerCase()) ||
                faq.answer.toLowerCase().includes(filter.toLowerCase()) ||
                (faq.keywords && faq.keywords.some(keyword => keyword.toLowerCase().includes(filter.toLowerCase())))
            );

            filteredFaqs.forEach(faq => {
                const faqItem = document.createElement('div');
                faqItem.className = 'faq-item';
                faqItem.innerHTML = `
                    <div class="faq-question">
                        <span>${faq.question}</span>
                        <i class="fas fa-chevron-left"></i>
                    </div>
                    <div class="faq-answer">${faq.answer}</div>
                `;
                faqList.appendChild(faqItem);

                const questionElement = faqItem.querySelector('.faq-question');
                const answerElement = faqItem.querySelector('.faq-answer');

                questionElement.addEventListener('click', () => {
                    questionElement.classList.toggle('active');
                    answerElement.classList.toggle('show');
                });
            });
        }

        faqSearchInput.addEventListener('input', (e) => {
            renderFAQs(e.target.value);
        });

        // --- 拽转 爪转 AI ---
        function updateSearchHistory(item) {
            if (!searchHistory.includes(item)) {
                searchHistory.push(item);
                localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
            }
        }

        function loadSearchHistory() {
            const storedHistory = localStorage.getItem('searchHistory');
            if (storedHistory) {
                searchHistory = JSON.parse(storedHistory);
            }
        }

        async function updateRecommendedProducts() {
            recommendedProductsContainer.innerHTML = '';

            if (searchHistory.length === 0) {
                const allProductNames = Object.values(productsData).flat().map(p => p.name);
                const randomProducts = allProductNames.sort(() => 0.5 - Math.random()).slice(0, 4);
                randomProducts.forEach(productName => {
                    const item = document.createElement('div');
                    item.className = 'recommended-product-item';
                    item.textContent = productName;
                    item.addEventListener('click', () => {
                        const message = `砖, 注 驻专 注: ${productName}.`;
                        showDynamicContactForm(message);
                        updateSearchHistory(productName);
                    });
                    recommendedProductsContainer.appendChild(item);
                });
                return;
            }

            const prompt = `转住住 注 住专转 驻砖/爪驻转 砖 拽: ${searchHistory.join(', ')}.
            爪注 4 爪专  拽专转 住驻转 转 专砖  砖注砖 注 转, 驻专 JSON:
            ${JSON.stringify(Object.keys(productsData).concat(Object.values(productsData).flat().map(p => p.name)))}
            驻专 拽砖  注专 砖 专转 (砖转 爪专/拽专转).`;

            try {
                const payload = {
                    contents: [{ role: "user", parts: [{ text: prompt }] }],
                    generationConfig: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "ARRAY",
                            items: { "type": "STRING" }
                        }
                    }
                };
                const apiKey = ""; // API Key will be provided by Canvas runtime
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const jsonResponse = result.candidates[0].content.parts[0].text;
                    const recommendedItems = JSON.parse(jsonResponse);

                    recommendedItems.forEach(itemText => {
                        const item = document.createElement('div');
                        item.className = 'recommended-product-item';
                        item.textContent = itemText;
                        item.addEventListener('click', () => {
                            const message = `砖, 注 驻专 注: ${itemText}.`;
                            showDynamicContactForm(message);
                            updateSearchHistory(itemText);
                        });
                        recommendedProductsContainer.appendChild(item);
                    });
                } else {
                    console.error('AI recommendation failed: Unexpected response structure', result);
                    // Fallback to random products if AI fails
                    const allProductNames = Object.values(productsData).flat().map(p => p.name);
                    const randomProducts = allProductNames.sort(() => 0.5 - Math.random()).slice(0, 4);
                    randomProducts.forEach(productName => {
                        const item = document.createElement('div');
                        item.className = 'recommended-product-item';
                        item.textContent = productName;
                        item.addEventListener('click', () => {
                            const message = `砖, 注 驻专 注: ${productName}.`;
                            showDynamicContactForm(message);
                            updateSearchHistory(productName);
                        });
                        recommendedProductsContainer.appendChild(item);
                    });
                }
            } catch (error) {
                console.error('Error fetching AI recommendations:', error);
                // Fallback to random products on error
                const allProductNames = Object.values(productsData).flat().map(p => p.name);
                const randomProducts = allProductNames.sort(() => 0.5 - Math.random()).slice(0, 4);
                randomProducts.forEach(productName => {
                    const item = document.createElement('div');
                    item.className = 'recommended-product-item';
                    item.textContent = productName;
                    item.addEventListener('click', () => {
                        const message = `砖, 注 驻专 注: ${productName}.`;
                        showDynamicContactForm(message);
                        updateSearchHistory(productName);
                    });
                    recommendedProductsContainer.appendChild(item);
                });
            }
        }

        // --- 拽转  拽驻抓  爪 ---
        function showAgentPopup() {
            // 拽  驻驻驻 爪 专 住砖 
            if (localStorage.getItem('agentPopupShown') === 'true') {
                return;
            }

            agentPopupOverlay.style.opacity = '1';
            agentPopupOverlay.style.pointerEvents = 'all';

            // 爪转 专
            agentPopupTimerFill.style.transition = 'width 5s linear';
            agentPopupTimerFill.style.width = '0%';

            let timer = 5;
            const interval = setInterval(() => {
                timer--;
                if (timer <= 0) {
                    clearInterval(interval);
                    agentPopupOverlay.style.opacity = '0';
                    agentPopupOverlay.style.pointerEvents = 'none';
                    localStorage.setItem('agentPopupShown', 'true'); // 住 砖爪
                }
            }, 1000);
        }

        openChatFromPopupBtn.addEventListener('click', () => {
            hidePopup(agentPopupOverlay);
            whatsappChatContainer.classList.add('show');
            localStorage.setItem('agentPopupShown', 'true'); // 住 砖爪
        });


        // --- 转 驻拽爪 ---
        window.addEventListener('load', () => {
            adjustPopupHeight();
            loadSearchHistory();
            updateRecommendedProducts();
            renderFAQs(); // 爪转 砖转 驻爪转 注 专砖转
            renderChatSuggestions(); // 爪转 爪注转 爪'

            // 驻 驻转专 注转 专转 拽
            document.querySelectorAll('.btn[data-initial-message]').forEach(button => {
                button.addEventListener('click', function() {
                    const initialMessage = this.getAttribute('data-initial-message');
                    showDynamicContactForm(initialMessage);
                });
            });

            // 驻 驻转专 "爪专 拽砖专"
            document.getElementById('contactBtn').addEventListener('click', function() {
                showDynamicContactForm("砖, 注 注抓 拽爪注  爪专 砖专转.");
            });
        });
    </script>
</body>
</html>
